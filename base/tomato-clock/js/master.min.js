"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),TomatoClock=function(){function e(){var t=this;_classCallCheck(this,e),this.min="25",this.sec="00",timer.innerHTML=this.min+":"+this.sec,start.onclick=function(){return t.timer(t.min)},this.trueTime=!0,this.testNotify()}return _createClass(e,[{key:"testNotify",value:function(){"Notification"in window?"denied"!==Notification.premission&&Notification.requestPermission(function(e){return console.log("Success"),!0}):alert("Ваш браузер не поддерживает декстопные оповещения.")}},{key:"notify",value:function(){new Notification("Pomodoro Clock says:",{dir:"auto",icon:"https://pp.userapi.com/c840234/v840234665/302df/EFnxoLbHk_Y.jpg",body:"Время отдахнуть, ниндзя."});console.log("Оповещение запустилось")}},{key:"timer",value:function(e){var t=this,n=e-1,i="59";"24"==e&&(this.trueTime=!0);var o=setInterval(function(){if(n<10?(i>=10&&(document.getElementById("timer").innerHTML="0"+n+":"+i),i<10&&(document.getElementById("timer").innerHTML="0"+n+":0"+i)):(i>=10&&(document.getElementById("timer").innerHTML=n+":"+i),i<10&&(document.getElementById("timer").innerHTML=n+":0"+i)),0==i&&(n--,i=59),i--,n<0)return clearInterval(o),1==t.trueTime&&(t.notify(),t.timer(5),t.trueTime=!1),!0},1e3)}}]),e}(),tomatoClock=new TomatoClock;